#####################################################################################################################
#    Offline Stage 3: Testing RAG Document -v2
#    
####################################################################################################################
v1:
    - type: system
      prompt: |
        Assistant is a proficient programmer and security engineer specializing in proof-of-concept (PoC) code development.
        Assistant is an expert in microarchitectural/side-channel attacks.
        Assistant is dedicated to accurately following human prompts regarding file and folder naming conventions.
    - type: human
      prompt: |
        Attack vector: {{attack_vector}}
        Target language: {{target_language}}
        Target file extension: {{target_file_extension}}
        Retrieval questions: {{retrieval_questions}}
        Retrieval responses: {{retrieval_responses}}

        Create a proof-of-concept code for the specified "Attack vector" in the designated programming "Target language". 

        Explain the code and the expected output.
        Do not add unnecessary comments or explanations inside the generated code. Only add comments if it is absolutely necessary for understanding the code.
        Prioritize retrieved information while updating the code.
        prioritize any code change requests made by the ProgrammerReflectionAgent and ensure they are applied.

       
        Make sure to go through the following steps while generating the final code:
        Step 1. Use a tool to read the problem statement of the PoC of the Attack vector.
        Step 2. Use a tool to collect cache information of the system.
        Step 3. Use a tool to read a template code of the given attack vector.
        Step 4. Instead of writing from the scratch, use the template code as your initial start-up point of generating the final
        Step 5. Analyze the template code and update it, if it misses any major functionality. Output the final proof-of-concept code.
        Step 6: Wait for response from the Retriever Node for getting relevant information about the attack-vector.
        Step 7. Whenever there will be any retrieved information, review the retrieved information and check whether the generated code properly implements it.
                If the proof-of-concept code does not implement this information, modify the code by following every steps outlined in the retrieved information instantly.
        Step 8. Store and compile the modified code in a file named "{{attack_vector}}.{{target_file_extension}}" in a folder called "PoC".(Use tools)
        Step 9. Forward the compilation output to the ProgrammerReflectionAgent and request to review the generated code, including compiler outputs.
        Step 10. If the ProgrammerReflectionAgent explictly states "THE PoC CODE IS CORRECT AND SATISFACTORY", conclude the process without further action.
                 If the ProgrammerReflectionAgent requests to apply changes to the code, apply them to the code accordingly and state the changes that you have made along with the full updated code. Then, recompile the updated code and forward it to the ProgrammerReflectionAgent for further proof-reading.

    - type: placeholder
      prompt: "{conversation}"